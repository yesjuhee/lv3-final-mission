:toc: left
:doctype: book
:toc: left
:toclevels: 2
:sectnums:
:sectlinks:
:source-highlighter: highlightjs

= API 문서

== 맛집 정보 확인

=== GET /restaurants

사용자는 맛집 리스트를 조회할 수 있다.

operation::restaurant-api-test/find-all-restaurants[snippets='curl-request,http-request,http-response']

==== 세부 사항

- [x] 모든 맛집 정보를 리스트 형태로 반환한다.
- [x] 이름, 주소, 한줄 소개, ID 정보가 표시된다.

=== GET /restaurants/+{id}+

사용자는 특정 맛집의 상세 정보를 확인할 수 있다.

operation::restaurant-api-test/find-restaurant-by-id[snippets='curl-request,http-request,http-response']

==== 세부 사항

- [x] 맛집 ID로 요청을 보내면 상세 정보를 반환한다.
- [x] 맛집 ID, 이름, 주소, 한줄 소개, 이용 가능한 스케줄(스케줄 ID, 날짜, 시간, 예약 가능 인원)을 확인할 수 있다.

==== 에러 응답

- [ ] **[404]** 맛집 ID를 찾을 수 없는 경우

== 맛집 예약하기

=== POST /schedules/+{id}+/reservations

사용자는 특정 맛집의 예약을 생성할 수 있다.

operation::reservation-api-test/create-reservation[snippets='curl-request,http-request,http-response']

=== 세부 사항

- [x] 스케줄 ID로 대상 리소스를 지정할 수 있다.
- [x] 예약자 정보(이메일, 예약 비밀번호)를 입력한다.
- [x] 예약 상세 정보(예약 인원, 예약 메시지)를 입력한다.
- [x] 사용자는 랜덤 닉네임을 부여받는다.
- [x] 생성된 정보를 응답 받는다.


==== 에러 응답

- [ ] **[400]** 요청 정보의 형식이 올바르지 않은 경우
- [ ] **[400]** 예약 가능한 인원을 초과한 경우
- [ ] **[404]** 스케줄 ID를 찾을 수 없는 경우
- [ ] **[500]** 외부 API (랜덤 닉네임 생성) 오류가 발생한 경우

== 내 예약 상세 정보 확인

- [ ] **[조회]** 사용자는 나의 특정 예약 상세 정보를 확인할 수 있다.
- 예약 ID로 요청을 보내 상세 정보를 확인할 수 있다.
- 예약 비밀번호를 입력하여 사용자 인증을 할 수 있다.
- **[401]** 입력한 비밀번호가 예약의 비밀번호와 일치하지 않을 경우
- **[404]** 예약 ID를 찾을 수 없는 경우

== 내 예약 수정, 삭제

- [ ] **[수정]** 사용자는 내 예약의 일부 정보를 수정할 수 있다.
- 예약 ID로 요청을 보내 예약 상세 정보(예약 인원, 예약 메시지)를 수정할 수 있다.
- 예약자 정보(닉네임, 이메일, 예약 비밀번호)는 수정할 수 없다.
- 예약 비밀번호를 입력하여 사용자 인증을 할 수 있다.
- **[400]** 요청 정보의 형식이 올바르지 않은 경우
- **[400]** 예약 날짜가 수정하는 날짜와 같거나, 과거일 경우
- **[401]** 입력한 비밀번호가 예약의 비밀번호와 일치하지 않을 경우
- **[404]** 예약 ID를 찾을 수 없는 경우
- [ ] **[삭제]** 사용자는 내 예약을 삭제할 수 있다.
- 예약 ID로 요청을 보내 예약을 삭제할 수 있다.
- 예약 비밀번호를 입력하여 사용자 인증을 할 수 있다.
- **[400]** 요청 정보의 형식이 올바르지 않은 경우
- **[400]** 예약 날짜가 수정하는 날짜와 같거나, 과거일 경우
- **[401]** 입력한 비밀번호가 예약의 비밀번호와 일치하지 않을 경우
- **[404]** 예약 ID를 찾을 수 없는 경우
