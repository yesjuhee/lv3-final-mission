# 맛집 예약 서비스

- 작성 방식: 별도의 문서(.md)로 정리하고, 해당 URL을 제출해 주세요.
- 권한이 있는 링크로 제출하는 경우 반드시 접근 권한이 열려 있는지 확인해 주세요.
- 답변은 단순 나열이 아니라, 본인의 역량을 설명하는 상황이라고 생각하고 작성해 주세요.
  (예: “제가 설계한 아키텍처는 …, 이를 통해 장애 상황에서 … 대응할 수 있습니다.”와 같이 설명)

## 인프라 구축

### Dev 서버와 Prod 서버

- 개발을 위한 Dev 서버와 운영을 위한 Prod 서버를 각각 구축했습니다. Dev 서버에서 충분한 검증을 마치고, Prod 서버에서 검증할 수 있습니다.
- Dev 서버는 하나의 AWS EC2를 사용했습니다. 서버 구성 비용을 줄이고, 간편하게 구성하는 방식을 선택했습니다.
- Prod 서버는 2개의 EC2 인스턴스를 사용해서 각각 애플리케이션 서버와 데이터베이스 서버로 사용했습니다. 두개의 인스턴스를 사용함으로써 장애 전파를 방지할 수 있습니다. 또한 완전히 격리된 환경으로 유지보수가
  간편합니다. 앱과 DB가 독립적이기 때문에 Scale Out도 간편해집니다.

### Docker

- Docker와 Docker Compose를 이용해 Spring Boot App과 MySQL을 도커 컨테이너로 관리했습니다.
- 도커의 설정 파일을 이용해 쉽게 유지보수를 하고, Dev와 Prod의 환경을 일치시킬 수 있습니다.
- 추가적인 프로그램 설치 없이 도커만 이용해서 서버를 실행시킬 수 있습니다.

### Github Actions

- CI/CD를 위해 Gtihub Action을 이용했습니다.
- main, develop 브랜치에 push가 발생하면 CI가 실행되고, 테스트와 빌드를 진행합니다.
- main, develop 브랜치에 push가 발생하면 각각 CD가 진행됩니다.
- Github Action을 이용해 통합과 배포를 자동화하고, UI를 통해 쉽게 관리하고, 실행할 수 있습니다.

### Nginx

- HTTPS를 적용하기 위해 도입했습니다.

## 기능 목록

### 맛집 정보 확인

- [x] **[조회]** 사용자는 맛집 리스트를 조회할 수 있다. (GET /restaurants)
    - 모든 맛집 정보를 리스트 형태로 반환한다.
    - 이름, 주소, 한줄 소개, ID 정보가 표시된다.
- [x] **[조회]** 사용자는 특정 맛집의 상세 정보를 확인할 수 있다. (GET /restaurants/{id})
    - 맛집 ID로 요청을 보내면 상세 정보를 반환한다.
    - 맛집 ID, 이름, 주소, 한줄 소개, 이용 가능한 스케줄(스케줄 ID, 날짜, 시간, 예약 가능 인원)을 확인할 수 있다.
    - **[404]** 맛집 ID를 찾을 수 없는 경우

### 맛집 예약하기

- [x] **[생성]** 사용자는 특정 맛집의 예약을 생성할 수 있다. (POST /schedules/{id}/reservations)
    - 스케줄 ID로 대상 리소스를 지정할 수 있다.
    - 예약자 정보(닉네임, 이메일, 예약 비밀번호)를 입력한다.
    - 예약 상세 정보(예약 인원, 예약 메시지)를 입력한다.
    - 예약에 성공하면 확인 메일을 발송한다.
    - **[400]** 요청 정보의 형식이 올바르지 않은 경우
    - **[400]** 예약 가능한 인원을 초과한 경우
    - **[404]** 스케줄 ID를 찾을 수 없는 경우

### 내 예약 상세 정보 확인

- [ ] **[조회]** 사용자는 나의 특정 예약 상세 정보를 확인할 수 있다.
    - 예약 ID로 요청을 보내 상세 정보를 확인할 수 있다.
    - 예약 비밀번호를 입력하여 사용자 인증을 할 수 있다.
    - **[401]** 입력한 비밀번호가 예약의 비밀번호와 일치하지 않을 경우
    - **[404]** 예약 ID를 찾을 수 없는 경우

### 내 예약 수정, 삭제

- [ ] **[수정]** 사용자는 내 예약의 일부 정보를 수정할 수 있다.
    - 예약 ID로 요청을 보내 예약 상세 정보(예약 인원, 예약 메시지)를 수정할 수 있다.
    - 예약자 정보(닉네임, 이메일, 예약 비밀번호)는 수정할 수 없다.
    - 예약 비밀번호를 입력하여 사용자 인증을 할 수 있다.
    - **[400]** 요청 정보의 형식이 올바르지 않은 경우
    - **[400]** 예약 날짜가 수정하는 날짜와 같거나, 과거일 경우
    - **[401]** 입력한 비밀번호가 예약의 비밀번호와 일치하지 않을 경우
    - **[404]** 예약 ID를 찾을 수 없는 경우
- [ ] **[삭제]** 사용자는 내 예약을 삭제할 수 있다.
    - 예약 ID로 요청을 보내 예약을 삭제할 수 있다.
    - 예약 비밀번호를 입력하여 사용자 인증을 할 수 있다.
    - **[400]** 요청 정보의 형식이 올바르지 않은 경우
    - **[400]** 예약 날짜가 수정하는 날짜와 같거나, 과거일 경우
    - **[401]** 입력한 비밀번호가 예약의 비밀번호와 일치하지 않을 경우
    - **[404]** 예약 ID를 찾을 수 없는 경우
